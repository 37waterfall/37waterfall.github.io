<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/icon16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/favicon32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="菜鸟教程总结。">
<meta property="og:type" content="article">
<meta property="og:title" content="React学习笔记">
<meta property="og:url" content="http://example.com/2022/02/02/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="LJY_BLOG">
<meta property="og:description" content="菜鸟教程总结。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.runoob.com/wp-content/uploads/2016/02/ogimage.png">
<meta property="article:published_time" content="2022-02-02T00:14:29.000Z">
<meta property="article:modified_time" content="2022-02-02T14:12:58.235Z">
<meta property="article:author" content="LJY">
<meta property="article:tag" content="学习笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.runoob.com/wp-content/uploads/2016/02/ogimage.png"><title>React学习笔记 | LJY_BLOG</title><link ref="canonical" href="http://example.com/2022/02/02/React%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">主页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">档案</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/reading/"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">阅读</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">LJY_BLOG</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">React学习笔记</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">创建</span><span class="post-meta-item__value">2022-02-02</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新</span><span class="post-meta-item__value">2022-02-02</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时间</span><span class="post-meta-item__value">47m</span></span></div></header><div class="post-body"><p>菜鸟教程总结。</p>
<span id="more"></span>


        <h1 id="安装">
          <a href="#安装" class="heading-link"><i class="fas fa-link"></i></a><a href="#安装" class="headerlink" title="安装"></a>安装</h1>
      <ol>
<li>CDN</li>
</ol>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"&gt;&lt;/script&gt;</span><br><span class="line">&lt;!-- 生产环境中不建议使用 --&gt;</span><br><span class="line">&lt;script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"&gt;&lt;/script&gt;</span><br></pre></td></tr></tbody></table></div></figure>

<ol start="2">
<li>npm</li>
</ol>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">有点慢。。。222M。。。</span><br><span class="line">cnpm install -g create-react-app</span><br><span class="line">create-react-app my-app</span><br><span class="line">cd my-app/</span><br><span class="line">npm start</span><br></pre></td></tr></tbody></table></div></figure>

<p>端口：<span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="http://localhost:3000/">http://localhost:3000/</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>文件目录</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">my-app/</span><br><span class="line">  README.md</span><br><span class="line">  node_modules/</span><br><span class="line">  package.json</span><br><span class="line">  .gitignore</span><br><span class="line">  public/</span><br><span class="line">    favicon.ico</span><br><span class="line">    index.html</span><br><span class="line">    manifest.json --- 指定了开始页面 index.html，一切的开始都从这里开始，所以这个是代码执行的源头。</span><br><span class="line">  src/</span><br><span class="line">    App.css</span><br><span class="line">    App.js  --- 尝试修改 src/App.js 文件代码,一般会自动刷新</span><br><span class="line">    App.test.js</span><br><span class="line">    index.css</span><br><span class="line">    index.js</span><br><span class="line">    logo.svg</span><br></pre></td></tr></tbody></table></div></figure>


        <h1 id="React-元素渲染">
          <a href="#React-元素渲染" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-元素渲染" class="headerlink" title="React 元素渲染"></a>React 元素渲染</h1>
      <p>元素是构成 React 应用的最小单位，它用于描述屏幕上输出的内容。<br><code>const element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;</code></p>
<p>首先我们在一个 HTML 页面中添加一个 id=”example” 的 <code>&lt;div&gt;</code>:<br><code>&lt;div id="example"&gt;&lt;/div&gt;</code></p>
<blockquote>
<p>在此 div 中的所有内容都将由 React DOM 来管理，所以我们将其称为 “根” DOM 节点。我们用 React 开发应用时一般只会定义一个根节点。但如果你是在一个已有的项目当中引入 React 的话，你可能会需要在不同的部分单独定义 React 根节点。</p>
</blockquote>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    element,</span><br><span class="line">    document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>




        <h1 id="React-JSX">
          <a href="#React-JSX" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-JSX" class="headerlink" title="React JSX"></a>React JSX</h1>
      <p>React 使用 JSX 来替代常规的 JavaScript。</p>
<p>优点：</p>
<ol>
<li>JSX 执行更快，因为它在编译为 JavaScript 代码后进行了优化。</li>
<li>它是类型安全的，在编译过程中就能发现错误。</li>
<li>使用 JSX 编写模板更加简单快速。</li>
</ol>
<p><code>const element = &lt;h1&gt;Hello, world!&lt;/h1&gt;;</code></p>

        <h1 id="React-组件">
          <a href="#React-组件" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-组件" class="headerlink" title="React 组件"></a>React 组件</h1>
      <p>使用组件，方便管理</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function HelloMessage(props) {</span><br><span class="line">    return &lt;h1&gt;Hello World! {props.name}&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">const element = &lt;HelloMessage name='LLLL'/&gt;; // 自结束标签,可以传递参数</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">    element,</span><br><span class="line">    document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>

<p>有两种方法：</p>
<ol>
<li>函数定义</li>
<li>es6 的class<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 01 --&gt;</span><br><span class="line">function HelloMessage(props) {</span><br><span class="line">    return &lt;h1&gt;Hello World!&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line">&lt;!-- 02 --&gt;</span><br><span class="line">class Welcome extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return &lt;h1&gt;Hello World!&lt;/h1&gt;;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure></li>
</ol>
<blockquote>
<p>注意，在添加属性时， class 属性需要写成 className ，for 属性需要写成 htmlFor ，这是因为 class 和 for 是 JavaScript 的保留字。</p>
</blockquote>
<p>复合组件,即把组件的不同功能点进行分离。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function Name(props) {</span><br><span class="line">    return &lt;h1&gt;网站名称：{props.name}&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line">function Url(props) {</span><br><span class="line">    return &lt;h1&gt;网站地址：{props.url}&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line">function Nickname(props) {</span><br><span class="line">    return &lt;h1&gt;网站小名：{props.nickname}&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line">function App() {</span><br><span class="line">    return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Name name="菜鸟教程" /&gt; //  三个 h1</span><br><span class="line">        &lt;Url url="http://www.runoob.com" /&gt;</span><br><span class="line">        &lt;Nickname nickname="Runoob" /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">     &lt;App /&gt;, // 组件渲染。</span><br><span class="line">    document.getElementById('example') // 挂载</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="React-State">
          <a href="#React-State" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-State" class="headerlink" title="React State"></a>React State</h1>
      <p>React 把组件看成是一个状态机（State Machines）。通过与用户的交互，实现不同状态，然后渲染 UI，让用户界面和数据保持一致。</p>
<p>React 里，只需更新组件的 state，然后根据新的 state 重新渲染用户界面（不要操作 DOM）。</p>
<p>添加一个类构造函数来初始化状态 this.state，类组件应始终使用 props 调用基础构造函数。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">class Clock extends React.Component {</span><br><span class="line">	</span><br><span class="line">&lt;!-- 	一个类必须有 constructor 方法，如果没有显式定义，一个默认的 consructor 方法会被默认添加 --&gt;</span><br><span class="line">&lt;!-- 一般 constructor 方法返回实例对象 this ，但是也可以指定 constructor 方法返回一个全新的对象，让返回的实例对象不是该类的实例。 --&gt;</span><br><span class="line">  constructor(props) {</span><br><span class="line">		</span><br><span class="line">		class继承中，子类必须在constructor方法中调用super方法，否则新建实例时会报错。</span><br><span class="line">		这是因为子类自己的this对象，必须先通过父类的构造函数完成塑造，</span><br><span class="line">		得到与父类同样的实例属性和方法，然后再对其进行加工，加上子类自己的实例属性和方法。</span><br><span class="line">		</span><br><span class="line">		如果不调用super方法，子类就得不到this对象。</span><br><span class="line">		</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = {date: new Date()};</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Hello, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;现在是 {this.state.date.toLocaleTimeString()}.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Clock /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


        <h2 id="这里的super的作用？">
          <a href="#这里的super的作用？" class="heading-link"><i class="fas fa-link"></i></a><a href="#这里的super的作用？" class="headerlink" title="这里的super的作用？"></a>这里的super的作用？</h2>
      <p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://blog.csdn.net/a419419/article/details/82772412">解读es6 class 中 constructor 方法 和 super 的作用</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p><strong>添加生命周期</strong><br>在具有许多组件的应用程序中，在销毁时释放组件所占用的资源非常重要。<br>每当 Clock 组件第一次加载到 DOM 中的时候，我们都想生成定时器，这在 React 中被称为<strong>挂载</strong>。<br>同样，每当 Clock 生成的这个 DOM 被移除的时候，我们也会想要清除定时器，这在 React 中被称为<strong>卸载</strong>。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- componentDidMount() 与 componentWillUnmount() 方法被称作生命周期钩子。 --&gt;</span><br><span class="line">&lt;!-- 在组件输出到 DOM 后会执行 componentDidMount() 钩子，我们就可以在这个钩子上设置一个定时器。 --&gt;</span><br><span class="line">&lt;!-- this.timerID 为定时器的 ID，我们可以在 componentWillUnmount() 钩子中卸载定时器。 --&gt;</span><br><span class="line">  componentDidMount() {</span><br><span class="line">    this.timerID = setInterval(</span><br><span class="line">      () =&gt; this.tick(),</span><br><span class="line">      1000</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  componentWillUnmount() {</span><br><span class="line">    clearInterval(this.timerID);</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  tick() {</span><br><span class="line">    this.setState({</span><br><span class="line">      date: new Date()</span><br><span class="line">    });</span><br><span class="line">  }</span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>

<p><strong>执行顺序</strong></p>
<ol>
<li>初始化</li>
<li>Render（）</li>
<li>componentDidMount() 生命周期钩子</li>
<li>tick() </li>
<li>componentWillUnmount()</li>
</ol>
<p>这通常被称为自顶向下或单向数据流</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1. 当 &lt;Clock /&gt; 被传递给 ReactDOM.render() 时，React 调用 Clock 组件的构造函数。 </span><br><span class="line">由于 Clock 需要显示当前时间，所以使用包含当前时间的对象来初始化 this.state 。 我们稍后会更新此状态。</span><br><span class="line"></span><br><span class="line">2. React 然后调用 Clock 组件的 render() 方法。这是 React 了解屏幕上应该显示什么内容，</span><br><span class="line">然后 React 更新 DOM 以匹配 Clock 的渲染输出。</span><br><span class="line"></span><br><span class="line">3. 当 Clock 的输出插入到 DOM 中时，React 调用 componentDidMount() 生命周期钩子。 </span><br><span class="line">4. 在其中，Clock 组件要求浏览器设置一个定时器，每秒钟调用一次 tick()。</span><br><span class="line"></span><br><span class="line">4 .浏览器每秒钟调用 tick() 方法。 在其中，Clock 组件通过使用包含当前时间的对象调用 setState() 来调度UI更新。 </span><br><span class="line">通过调用 setState() ，React 知道状态已经改变，并再次调用 render() 方法来确定屏幕上应当显示什么。 </span><br><span class="line">这一次，render() 方法中的 this.state.date 将不同，所以渲染输出将包含更新的时间，并相应地更新 DOM。</span><br><span class="line"></span><br><span class="line">5 .一旦 Clock 组件被从 DOM 中移除，React 会调用 componentWillUnmount() 这个钩子函数，定时器也就会被清除。</span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>


<p><strong>创建3个clock</strong></p>
<p>每个 Clock 组件都建立了自己的定时器并且<strong>独立更新</strong>。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function App() { // 可以给个名字。。</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;App /&gt;, document.getElementById('example'));</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="React-Props">
          <a href="#React-Props" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-Props" class="headerlink" title="React Props"></a>React Props</h1>
      <p>state 和 props 主要的区别在于 props 是不可变的<br>而 state 可以根据与用户交互来改变</p>
<blockquote>
<p>这就是为什么有些容器组件需要定义 state 来更新和修改数据。 而子组件只能通过 props 来传递数据。</p>
</blockquote>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function HelloMessage(props) {</span><br><span class="line">    return &lt;h1&gt;Hello {props.name}!&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">const element = &lt;HelloMessage name="Runoob"/&gt;;// 传递信息</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">    element,</span><br><span class="line">    document.getElementById('example')</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></tbody></table></div></figure>


        <h2 id="默认props">
          <a href="#默认props" class="heading-link"><i class="fas fa-link"></i></a><a href="#默认props" class="headerlink" title="默认props"></a>默认props</h2>
      <figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class HelloMessage extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">HelloMessage.defaultProps = {</span><br><span class="line">  name: 'Runoob1111'</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line">const element = &lt;HelloMessage/&gt;;</span><br></pre></td></tr></tbody></table></div></figure>


        <h2 id="state-和-props">
          <a href="#state-和-props" class="heading-link"><i class="fas fa-link"></i></a><a href="#state-和-props" class="headerlink" title="state 和 props"></a>state 和 props</h2>
      <figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">class WebSite extends React.Component {</span><br><span class="line">  constructor() {</span><br><span class="line">      super();</span><br><span class="line"> </span><br><span class="line">      this.state = {</span><br><span class="line">        name: "菜鸟教程",</span><br><span class="line">        site: "https://www.runoob.com"</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Name name={this.state.name} /&gt; // 这里是state，当作参数，传递给子组件 √</span><br><span class="line">        &lt;Link site={this.state.site} /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">class Name extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;h1&gt;{this.props.name}&lt;/h1&gt; // 这里是props。。</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">class Link extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;a href={this.props.site}&gt; // 这里是props。。</span><br><span class="line">        {this.props.site}</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;WebSite /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


        <h2 id="Props-验证">
          <a href="#Props-验证" class="heading-link"><i class="fas fa-link"></i></a><a href="#Props-验证" class="headerlink" title="Props 验证"></a>Props 验证</h2>
      <p>Props 验证使用 propTypes，它可以保证我们的应用组件被正确使用，<br>React.PropTypes 提供很多验证器 (validator) 来验证传入数据是否有效。<br>当向 props 传入无效数据时，JavaScript 控制台会抛出警告。</p>
<p>创建一个 Mytitle 组件，属性 title 是必须的且是字符串，非字符串类型会自动转换为字符串 ：</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">var title = "菜鸟教程"; //---"菜鸟教程" - 2 ---&gt; NaN</span><br><span class="line">// var title = 123;</span><br><span class="line">class MyTitle extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;h1&gt;Hello, {this.props.title}&lt;/h1&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">MyTitle.propTypes = { // 必须是字符串，否则自动转换</span><br><span class="line">// 这里检测的是 title</span><br><span class="line">  title: PropTypes.string</span><br><span class="line">};</span><br><span class="line">ReactDOM.render(</span><br><span class="line">    &lt;MyTitle title={title} /&gt;,</span><br><span class="line">    document.getElementById('example')</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-------------</span><br><span class="line">这个很好啊。。。</span><br><span class="line"></span><br><span class="line">MyComponent.propTypes = {</span><br><span class="line">    // 可以声明 prop 为指定的 JS 基本数据类型，默认情况，这些数据是可选的</span><br><span class="line">   optionalArray: React.PropTypes.array,</span><br><span class="line">    optionalBool: React.PropTypes.bool,</span><br><span class="line">    optionalFunc: React.PropTypes.func,</span><br><span class="line">    optionalNumber: React.PropTypes.number,</span><br><span class="line">    optionalObject: React.PropTypes.object,</span><br><span class="line">    optionalString: React.PropTypes.string,</span><br><span class="line"> </span><br><span class="line">    // 可以被渲染的对象 numbers, strings, elements 或 array</span><br><span class="line">    optionalNode: React.PropTypes.node,</span><br><span class="line"> </span><br><span class="line">    //  React 元素</span><br><span class="line">    optionalElement: React.PropTypes.element,</span><br><span class="line"> </span><br><span class="line">    // 用 JS 的 instanceof 操作符声明 prop 为类的实例。</span><br><span class="line">    optionalMessage: React.PropTypes.instanceOf(Message),</span><br><span class="line"> </span><br><span class="line">    // 用 enum 来限制 prop 只接受指定的值。</span><br><span class="line">    optionalEnum: React.PropTypes.oneOf(['News', 'Photos']),</span><br><span class="line"> </span><br><span class="line">    // 可以是多个对象类型中的一个</span><br><span class="line">    optionalUnion: React.PropTypes.oneOfType([</span><br><span class="line">      React.PropTypes.string,</span><br><span class="line">      React.PropTypes.number,</span><br><span class="line">      React.PropTypes.instanceOf(Message)</span><br><span class="line">    ]),</span><br><span class="line"> </span><br><span class="line">    // 指定类型组成的数组</span><br><span class="line">    optionalArrayOf: React.PropTypes.arrayOf(React.PropTypes.number),</span><br><span class="line"> </span><br><span class="line">    // 指定类型的属性构成的对象</span><br><span class="line">    optionalObjectOf: React.PropTypes.objectOf(React.PropTypes.number),</span><br><span class="line"> </span><br><span class="line">    // 特定 shape 参数的对象</span><br><span class="line">    optionalObjectWithShape: React.PropTypes.shape({</span><br><span class="line">      color: React.PropTypes.string,</span><br><span class="line">      fontSize: React.PropTypes.number</span><br><span class="line">    }),</span><br><span class="line"> </span><br><span class="line">    // 任意类型加上 `isRequired` 来使 prop 不可空。</span><br><span class="line">    requiredFunc: React.PropTypes.func.isRequired,</span><br><span class="line"> </span><br><span class="line">    // 不可空的任意类型</span><br><span class="line">    requiredAny: React.PropTypes.any.isRequired,</span><br><span class="line"> </span><br><span class="line">    // 自定义验证器。如果验证失败需要返回一个 Error 对象。不要直接使用 `console.warn` 或抛异常，因为这样 `oneOfType` 会失效。</span><br><span class="line">    customProp: function(props, propName, componentName) {</span><br><span class="line">      if (!/matchme/.test(props[propName])) {</span><br><span class="line">        return new Error('Validation failed!');</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="React-事件处理">
          <a href="#React-事件处理" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-事件处理" class="headerlink" title="React 事件处理"></a>React 事件处理</h1>
      <p>React 元素的事件处理和 DOM 元素类似。但是有一点语法上的不同:</p>
<ol>
<li>React 事件绑定属性的命名采用驼峰式写法，而不是小写。</li>
<li>如果采用 JSX 的语法你需要传入一个函数作为事件处理函数，而不是一个字符串(DOM 元素的写法)</li>
</ol>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick={activateLasers}&gt;</span><br><span class="line">  激活按钮</span><br><span class="line">&lt;/button&gt;</span><br></pre></td></tr></tbody></table></div></figure>

<p>在 React 中另一个不同是你不能使用返回 false 的方式阻止默认行为， 你必须明确使用 preventDefault。<br>例如，通常我们在 HTML 中阻止链接默认打开一个新页面，可以这样写：</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href="#" onclick="console.log('点击链接'); return false"&gt; // react中不可行。</span><br><span class="line">  点我</span><br><span class="line">&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">--------------------------</span><br><span class="line"></span><br><span class="line">function ActionLink() {</span><br><span class="line">  function handleClick(e) {</span><br><span class="line">    e.preventDefault(); // 这里。。。</span><br><span class="line">    console.log('链接被点击');</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  return (</span><br><span class="line">    &lt;a href="#" onClick={handleClick}&gt;</span><br><span class="line">      点我</span><br><span class="line">    &lt;/a&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>


<p>使用 ES6 class 语法来定义一个组件的时候，事件处理器会成为类的一个方法。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Toggle extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = {isToggleOn: true};</span><br><span class="line"> </span><br><span class="line">    // 这边绑定是必要的，这样 `this` 才能在回调函数中使用</span><br><span class="line">    this.handleClick = this.handleClick.bind(this); // bind</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleClick() {</span><br><span class="line">    this.setState(prevState =&gt; ({</span><br><span class="line">      isToggleOn: !prevState.isToggleOn</span><br><span class="line">    }));</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;button onClick={this.handleClick}&gt;</span><br><span class="line">        {this.state.isToggleOn ? 'ON' : 'OFF'} // 变</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Toggle /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>

<p>如果使用 bind 让你很烦，这里有两种方式可以解决。<br>如果你正在使用实验性的属性初始化器语法，你可以使用属性初始化器来正确的绑定回调函数：</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">class LoggingButton extends React.Component {</span><br><span class="line">  // 这个语法确保了 `this` 绑定在  handleClick 中</span><br><span class="line">  // 这里只是一个测试</span><br><span class="line">  handleClick = () =&gt; {</span><br><span class="line">    console.log('this is:', this);</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;button onClick={this.handleClick}&gt;</span><br><span class="line">        Click me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------</span><br><span class="line">class LoggingButton extends React.Component {</span><br><span class="line">  handleClick() {</span><br><span class="line">    console.log('this is:', this);</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    //  这个语法确保了 `this` 绑定在  handleClick 中</span><br><span class="line">    return (</span><br><span class="line">      &lt;button onClick={(e) =&gt; this.handleClick(e)}&gt;  // 这个好</span><br><span class="line">        Click me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<p>向事件处理程序<strong>传递参数</strong></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Popper extends React.Component{</span><br><span class="line">    constructor(){</span><br><span class="line">        super();</span><br><span class="line">        this.state = {name:'Hello world!'};</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    preventPop(name, e){    //事件对象e要放在最后</span><br><span class="line">        e.preventDefault();</span><br><span class="line">        alert(name);  // 弹出name</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    render(){</span><br><span class="line">        return (</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;p&gt;hello&lt;/p&gt;</span><br><span class="line">                {/* 通过 bind() 方法传递参数。 */}</span><br><span class="line">                &lt;a href="https://reactjs.org" onClick={this.preventPop.bind(this,this.state.name)}&gt;Click&lt;/a&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        );</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>




        <h1 id="React-条件渲染">
          <a href="#React-条件渲染" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-条件渲染" class="headerlink" title="React 条件渲染"></a>React 条件渲染</h1>
      <p>React 中的条件渲染和 JavaScript 中的一致，使用 JavaScript 操作符 if 或条件运算符来创建表示当前状态的元素，<br>然后让 React 根据它们来更新 UI。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function UserGreeting(props) {</span><br><span class="line">  return &lt;h1&gt;欢迎回来!&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">function GuestGreeting(props) {</span><br><span class="line">  return &lt;h1&gt;请先注册。&lt;/h1&gt;;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">function Greeting(props) {</span><br><span class="line">  const isLoggedIn = props.isLoggedIn; // 创建变量</span><br><span class="line">  if (isLoggedIn) { // 判断，决定渲染的组件。</span><br><span class="line">    return &lt;UserGreeting /&gt;;</span><br><span class="line">  }</span><br><span class="line">  return &lt;GuestGreeting /&gt;;</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  // 尝试修改 isLoggedIn={true}:</span><br><span class="line">  &lt;Greeting isLoggedIn={false} /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>

<p><strong>变量元素</strong><br>通过变量修改渲染组件，同上。。</p>
<p><strong>与运算符 &amp;&amp;</strong></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function Mailbox(props) {</span><br><span class="line">  const unreadMessages = props.unreadMessages;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello!&lt;/h1&gt;</span><br><span class="line">      {unreadMessages.length &gt; 0 &amp;&amp; // 前面成立，后面的才执行</span><br><span class="line">        &lt;h2&gt;</span><br><span class="line">          您有 {unreadMessages.length} 条未读信息。</span><br><span class="line">        &lt;/h2&gt;</span><br><span class="line">      }</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">const messages = ['React', 'Re: React', 'Re:Re: React'];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Mailbox unreadMessages={messages} /&gt;, ///共4个</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>

<p><strong>三目运算符</strong></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">render() {</span><br><span class="line">  const isLoggedIn = this.state.isLoggedIn;</span><br><span class="line">  return (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      {isLoggedIn ? (</span><br><span class="line">        &lt;LogoutButton onClick={this.handleLogoutClick} /&gt;</span><br><span class="line">      ) : (</span><br><span class="line">        &lt;LoginButton onClick={this.handleLoginClick} /&gt;</span><br><span class="line">      )}</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></div></figure>

<p><strong>阻止组件渲染</strong></p>
<p>在极少数情况下，你可能希望隐藏组件，即使它被其他组件渲染。让 render 方法返回 null 而不是它的渲染结果即可实现。</p>
<blockquote>
<p>组件的 render 方法返回 null 并不会影响该组件生命周期方法的回调。<br>例如，componentWillUpdate 和 componentDidUpdate 依然可以被调用。</p>
</blockquote>

        <h2 id="this-setState-有什么用？">
          <a href="#this-setState-有什么用？" class="heading-link"><i class="fas fa-link"></i></a><a href="#this-setState-有什么用？" class="headerlink" title="this.setState() 有什么用？"></a>this.setState() 有什么用？</h2>
      <p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.jianshu.com/p/a883552c67de">关于this.setState()的那些事</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">function WarningBanner(props) {</span><br><span class="line">  if (!props.warn) { // 如果是true，就返回null，不渲染。</span><br><span class="line">    return null;</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  return (</span><br><span class="line">    &lt;div className="warning"&gt; // 带个样式。</span><br><span class="line">      警告!</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">class Page extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = {showWarning: true}</span><br><span class="line">    this.handleToggleClick = this.handleToggleClick.bind(this); // 需要bind</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleToggleClick() {</span><br><span class="line">    this.setState(prevState =&gt; ({ // 设置state。可以更新数据。</span><br><span class="line">      showWarning: !prevState.showWarning // 这里修改。</span><br><span class="line">    }));</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;WarningBanner warn={this.state.showWarning} /&gt; //如果null，就不渲染了。</span><br><span class="line">        &lt;button onClick={this.handleToggleClick}&gt; // 修改渲染的条件变量</span><br><span class="line">          {this.state.showWarning ? '隐藏' : '显示'} // 显示信息。</span><br><span class="line">        &lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Page /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>






        <h1 id="React-列表-amp-Keys">
          <a href="#React-列表-amp-Keys" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-列表-amp-Keys" class="headerlink" title="React 列表&amp;Keys"></a>React 列表&amp;Keys</h1>
      <p>我们可以使用 JavaScript 的 map() 方法来创建列表。</p>
<p>不是哈希表。。。</p>
<p>使用key</p>
<blockquote>
<p>Keys 可以在 DOM 中的某些元素被增加或删除的时候帮助 React 识别哪些元素发生了变化。<br>因此你应当给数组中的每一个元素赋予一个确定的标识。</p>
</blockquote>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 使用 map() 方法遍历数组生成了一个 1 到 5 的数字列表: --&gt;</span><br><span class="line">const numbers = [1, 2, 3, 4, 5];</span><br><span class="line">const listItems = numbers.map((numbers) =&gt;</span><br><span class="line">  &lt;li&gt;{numbers}&lt;/li&gt; // 这里要加key，否则报错。</span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;ul&gt;{listItems}&lt;/ul&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----</span><br><span class="line">function NumberList(props) {</span><br><span class="line">  const numbers = props.numbers;</span><br><span class="line">  const listItems = numbers.map((number) =&gt;</span><br><span class="line">    &lt;li key={number.toString()}&gt; // key</span><br><span class="line">      {number}</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">  return (</span><br><span class="line">    &lt;ul&gt;{listItems}&lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">const numbers = [1, 2, 3, 4, 5];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NumberList numbers={numbers} /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


<p>一个元素的 key 最好是这个元素在列表中拥有的一个独一无二的字符串。通常，我们使用来自数据的 id 作为元素的 key:</p>
<p>当元素没有确定的 id 时，你可以使用他的序列号索引 index 作为 key：</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const todoItems = todos.map((todo) =&gt;</span><br><span class="line">  &lt;li key={todo.id}&gt;</span><br><span class="line">    {todo.text}</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">----</span><br><span class="line"></span><br><span class="line">const todoItems = todos.map((todo, index) =&gt;</span><br><span class="line">  // 只有在没有确定的 id 时使用</span><br><span class="line">  &lt;li key={index}&gt;</span><br><span class="line">    {todo.text}</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>

<p>元素的 key 只有在它和它的兄弟节点对比时才有意义。√</p>
<p>key的正确使用方式<br>用函数组件，写入数据。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function ListItem(props) {</span><br><span class="line">  // 对啦！这里不需要指定key:</span><br><span class="line">  return &lt;li&gt;{props.value}&lt;/li&gt;; // 用props接收。</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">function NumberList(props) {</span><br><span class="line">  const numbers = props.numbers; // 接收</span><br><span class="line">	</span><br><span class="line">  const listItems = numbers.map((number) =&gt;</span><br><span class="line">    // 又对啦！key应该在数组的上下文中被指定</span><br><span class="line">    &lt;ListItem key={number.toString()}// 传递数据。</span><br><span class="line">              value={number} /&gt;</span><br><span class="line"> </span><br><span class="line">  );</span><br><span class="line">  return (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      {listItems} // 写入页面。</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">const numbers = [1, 2, 3, 4, 5];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NumberList numbers={numbers} /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="React-组件API">
          <a href="#React-组件API" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-组件API" class="headerlink" title="React 组件API"></a>React 组件API</h1>
      <p>讲解以下7个方法</p>
<ul>
<li>设置状态：setState</li>
<li>替换状态：replaceState</li>
<li>设置属性：setProps</li>
<li>替换属性：replaceProps</li>
<li>强制更新：forceUpdate</li>
<li>获取DOM节点：findDOMNode</li>
<li>判断组件挂载状态：isMounted</li>
</ul>

        <h2 id="setState">
          <a href="#setState" class="heading-link"><i class="fas fa-link"></i></a><a href="#setState" class="headerlink" title="setState"></a>setState</h2>
      <p><code>setState(object nextState[, function callback])</code></p>
<p>nextState，将要设置的新状态，该状态会和当前的state合并<br>callback，可选参数，回调函数。该函数会在setState设置成功，且组件重新渲染后调用。</p>
<p>合并nextState和当前state，并重新渲染组件。<strong>setState是React事件处理函数中和请求回调函数中触发UI更新的主要方法。</strong></p>
<p><strong>关于setState</strong><br>不能在组件内部通过this.state修改状态，因为该状态会在调用setState()后被替换。<br>setState()并不会立即改变this.state，而是<strong>创建一个即将处理的state</strong>。</p>
<p>setState()并<strong>不一定是同步的</strong>，为了提升性能React会批量执行state和DOM渲染。</p>
<p>setState()<strong>总是会触发一次组件重绘</strong>，除非在shouldComponentUpdate()中实现了一些条件渲染逻辑。</p>
<p>计数器</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Counter extends React.Component{</span><br><span class="line">  constructor(props) {</span><br><span class="line">      super(props);</span><br><span class="line">      this.state = {clickCount: 0};</span><br><span class="line">      this.handleClick = this.handleClick.bind(this);</span><br><span class="line">  }</span><br><span class="line">  </span><br><span class="line">  handleClick() {</span><br><span class="line">    this.setState(function(state) {</span><br><span class="line">      return {clickCount: state.clickCount + 1};</span><br><span class="line">    });</span><br><span class="line">  }</span><br><span class="line">  render () {</span><br><span class="line">    return (&lt;h2 onClick={this.handleClick}&gt;点我！点击次数为: {this.state.clickCount}&lt;/h2&gt;);</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Counter /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>



        <h2 id="replaceState">
          <a href="#replaceState" class="heading-link"><i class="fas fa-link"></i></a><a href="#replaceState" class="headerlink" title="replaceState"></a>replaceState</h2>
      <p><code>replaceState(object nextState[, function callback])</code></p>
<p>nextState，将要设置的新状态，该状态会替换当前的state。<br>callback，可选参数，回调函数。该函数会在replaceState设置成功，且组件重新渲染后调用。</p>

        <h2 id="setProps">
          <a href="#setProps" class="heading-link"><i class="fas fa-link"></i></a><a href="#setProps" class="headerlink" title="setProps"></a>setProps</h2>
      <p><code>setProps(object nextProps[, function callback])</code></p>
<p>nextProps，将要设置的新属性，该状态会和当前的props合并<br>callback，可选参数，回调函数。该函数会在setProps设置成功，且组件重新渲染后调用。</p>

        <h2 id="replaceProps">
          <a href="#replaceProps" class="heading-link"><i class="fas fa-link"></i></a><a href="#replaceProps" class="headerlink" title="replaceProps"></a>replaceProps</h2>
      <p><code>replaceProps(object nextProps[, function callback])</code></p>
<p>nextProps，将要设置的新属性，该属性会替换当前的props。<br>callback，可选参数，回调函数。该函数会在replaceProps设置成功，且组件重新渲染后调用。</p>

        <h2 id="forceUpdate">
          <a href="#forceUpdate" class="heading-link"><i class="fas fa-link"></i></a><a href="#forceUpdate" class="headerlink" title="forceUpdate"></a>forceUpdate</h2>
      <p><code>forceUpdate([function callback])</code></p>
<p>callback，可选参数，回调函数。该函数会在组件render()方法调用后调用。 // 顺序</p>
<p>forceUpdate()方法适用于this.props和this.state之外的组件重绘（如：修改了this.state后），通过该方法通知React需要调用render()<br>一般来说，应该尽量避免使用forceUpdate()，而仅从this.props和this.state中读取状态并由React触发render()调用。</p>

        <h2 id="findDOMNode">
          <a href="#findDOMNode" class="heading-link"><i class="fas fa-link"></i></a><a href="#findDOMNode" class="headerlink" title="findDOMNode"></a>findDOMNode</h2>
      <p><code>DOMElement findDOMNode()</code></p>
<p>返回值：DOM元素DOMElement</p>
<p>如果组件已经挂载到DOM中，该方法返回对应的本地浏览器 DOM 元素。当render返回null 或 false时，this.findDOMNode()也会返回null。<br>从DOM 中读取值的时候，该方法很有用，如：获取表单字段的值和做一些 DOM 操作。</p>

        <h2 id="isMounted">
          <a href="#isMounted" class="heading-link"><i class="fas fa-link"></i></a><a href="#isMounted" class="headerlink" title="isMounted"></a>isMounted</h2>
      <p><code>bool isMounted()</code></p>
<p>返回值：true或false，表示组件是否已挂载到DOM中</p>
<p>isMounted()方法用于判断组件是否已挂载到DOM中。可以使用该方法保证了setState()和forceUpdate()在异步场景下的调用不会出错。</p>

        <h1 id="React-组件生命周期">
          <a href="#React-组件生命周期" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-组件生命周期" class="headerlink" title="React 组件生命周期"></a>React 组件生命周期</h1>
      <p>组件的生命周期可分成三个状态：</p>
<ul>
<li>Mounting(挂载)：已插入真实 DOM</li>
<li>Updating(更新)：正在被重新渲染</li>
<li>Unmounting(卸载)：已移出真实 DOM</li>
</ul>
<p><img src="https://www.runoob.com/wp-content/uploads/2016/02/ogimage.png" alt="React 组件生命周期"></p>

        <h2 id="挂载">
          <a href="#挂载" class="heading-link"><i class="fas fa-link"></i></a><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h2>
      <p>当组件实例被创建并插入 DOM 中时，其生命周期调用顺序如下：</p>
<ol>
<li>constructor(): 在 React 组件挂载之前，会调用它的构造函数。</li>
<li>getDerivedStateFromProps(): 在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。</li>
<li>render(): render() 方法是 class 组件中<strong>唯一必须实现</strong>的方法。</li>
<li>componentDidMount(): 在组件挂载后（插入 DOM 树中）立即调用。</li>
</ol>
<p>render() 方法是 class 组件中唯一必须实现的方法，其他方法可以根据自己的需要来实现。</p>

        <h2 id="更新">
          <a href="#更新" class="heading-link"><i class="fas fa-link"></i></a><a href="#更新" class="headerlink" title="更新"></a>更新</h2>
      <p>当组件的 state 或 props 发生变化时，组件就会更新。</p>
<p>当组件的 props 或 state 发生变化时会触发更新。组件更新的生命周期调用顺序如下：</p>
<ol>
<li>getDerivedStateFromProps(): 在调用 render 方法之前调用，并且在初始挂载及后续更新时都会被调用。根据 shouldComponentUpdate() 的返回值，判断 React 组件的输出是否受当前 state 或 props 更改的影响。</li>
<li>shouldComponentUpdate():当 props 或 state 发生变化时，shouldComponentUpdate() 会在渲染执行之前被调用。</li>
<li>render(): render() 方法是 class 组件中唯一必须实现的方法。</li>
<li>getSnapshotBeforeUpdate(): 在最近一次渲染输出（提交到 DOM 节点）之前调用。</li>
<li>componentDidUpdate(): 在更新后会被立即调用。</li>
</ol>

        <h2 id="卸载">
          <a href="#卸载" class="heading-link"><i class="fas fa-link"></i></a><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2>
      <p>当组件从 DOM 中移除时会调用如下方法：</p>
<p>componentWillUnmount(): 在组件卸载及销毁之前直接调用。</p>

        <h1 id="React-AJAX">
          <a href="#React-AJAX" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-AJAX" class="headerlink" title="React AJAX"></a>React AJAX</h1>
      <p>React 组件的数据可以通过 componentDidMount 方法中的 Ajax 来获取，<br>当从服务端获取数据时可以将数据存储在 state 中，再用 this.setState 方法重新渲染 UI。</p>
<p>当使用异步加载数据时，在组件卸载前使用 componentWillUnmount 来取消未完成的请求。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">class UserGist extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">      super(props);</span><br><span class="line">      this.state = {username: '', lastGistUrl: ''};</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">  componentDidMount() { // 进行ajax请求。</span><br><span class="line">    this.serverRequest = $.get(this.props.source, function (result) { // jquery</span><br><span class="line">      var lastGist = result[0]; // 接收数据。共返回6个数据。</span><br><span class="line">      this.setState({</span><br><span class="line">        username: lastGist.owner.login,</span><br><span class="line">        lastGistUrl: lastGist.html_url</span><br><span class="line">      });</span><br><span class="line">    }.bind(this));</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  componentWillUnmount() {</span><br><span class="line">    this.serverRequest.abort();</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        {this.state.username} 用户最新的 Gist 共享地址：</span><br><span class="line">        &lt;a href={this.state.lastGistUrl}&gt;{this.state.lastGistUrl}&lt;/a&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line"></span><br><span class="line">&lt;!-- Request URL: https://api.github.com/users/octocat/gists --&gt;</span><br><span class="line">  &lt;UserGist source="https://api.github.com/users/octocat/gists" /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="React-表单与事件">
          <a href="#React-表单与事件" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-表单与事件" class="headerlink" title="React 表单与事件"></a>React 表单与事件</h1>
      <p><code>在 HTML 当中，像 &lt;input&gt;, &lt;textarea&gt;, 和 &lt;select&gt; 这类表单元素会维持自身状态，并根据用户输入进行更新</code></p>
<p>在React中，可变的状态通常保存在组件的状态属性中，并且只能用 setState() 方法进行更新。</p>
<p><strong>绑定输入框</strong></p>
<p>在实例中我们设置了输入框 input 值 value = {this.state.data}。<br>在输入框值发生变化时我们可以更新 state。我们可以使用 onChange 事件来监听 input 的变化，并修改 state。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class HelloMessage extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">      super(props);</span><br><span class="line">      this.state = {value: 'Hello Runoob!'}; // 初始化</span><br><span class="line">      this.handleChange = this.handleChange.bind(this);</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleChange(event) {</span><br><span class="line">    this.setState({value: event.target.value}); // 设置。</span><br><span class="line">  }</span><br><span class="line">  render() {</span><br><span class="line">    var value = this.state.value;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">            &lt;input type="text" value={value} onChange={this.handleChange} /&gt; //监听</span><br><span class="line">            &lt;h4&gt;{value}&lt;/h4&gt;</span><br><span class="line">           &lt;/div&gt;;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


<p><strong>子组件绑定输入框</strong></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Content extends React.Component {</span><br><span class="line">  render() {</span><br><span class="line">    return  &lt;div&gt;</span><br><span class="line">		// 接收数据，监听数据。</span><br><span class="line">            &lt;input type="text" value={this.props.myDataProp} onChange={this.props.updateStateProp} /&gt; </span><br><span class="line">            &lt;h4&gt;{this.props.myDataProp}&lt;/h4&gt;</span><br><span class="line">            &lt;/div&gt;;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">class HelloMessage extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">      super(props);</span><br><span class="line">      this.state = {value: 'Hello Runoob!'}; // 初始化。</span><br><span class="line">      this.handleChange = this.handleChange.bind(this);</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleChange(event) {</span><br><span class="line">    this.setState({value: event.target.value}); // 改变数据。</span><br><span class="line">  }</span><br><span class="line">  render() {</span><br><span class="line">    var value = this.state.value;</span><br><span class="line">    return &lt;div&gt;</span><br><span class="line">		</span><br><span class="line">		//你需要在父组件通过创建事件句柄 (handleChange) ，</span><br><span class="line">		//并作为 prop (updateStateProp) 传递到你的子组件上。</span><br><span class="line">            &lt;Content myDataProp = {value} </span><br><span class="line">              updateStateProp = {this.handleChange}&gt;&lt;/Content&gt; // </span><br><span class="line">           &lt;/div&gt;;</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;HelloMessage /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


<p><strong>下拉框</strong></p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">class FlavorForm extends React.Component {</span><br><span class="line">  constructor(props) {</span><br><span class="line">    super(props);</span><br><span class="line">    this.state = {value: 'coconut'}; // 初始化</span><br><span class="line"> </span><br><span class="line">    this.handleChange = this.handleChange.bind(this);</span><br><span class="line">    this.handleSubmit = this.handleSubmit.bind(this); // 绑定方法</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleChange(event) {</span><br><span class="line">    this.setState({value: event.target.value}); // 修改数据 - 用onchange监听</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  handleSubmit(event) {</span><br><span class="line">    alert('Your favorite flavor is: ' + this.state.value); // 提交处理程序，绑定在form上</span><br><span class="line">    event.preventDefault(); // 返回空操作。。</span><br><span class="line">  }</span><br><span class="line"> </span><br><span class="line">  render() {</span><br><span class="line">    return (</span><br><span class="line">      &lt;form onSubmit={this.handleSubmit}&gt; // 提交事件</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          选择您最喜欢的网站</span><br><span class="line">          &lt;select value={this.state.value} onChange={this.handleChange}&gt; // 监听事件。</span><br><span class="line">            &lt;option value="gg"&gt;Google&lt;/option&gt; // 这里的value会被提交到的数据使用。</span><br><span class="line">            &lt;option value="rn"&gt;Runoob&lt;/option&gt;</span><br><span class="line">            &lt;option value="tb"&gt;Taobao&lt;/option&gt;</span><br><span class="line">            &lt;option value="fb"&gt;Facebook&lt;/option&gt;</span><br><span class="line">          &lt;/select&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;input type="submit" value="提交" /&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;FlavorForm /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>


<p><strong>多个表单</strong></p>
<p>当你有处理多个 input 元素时，你可以通过给每个元素添加一个 name 属性，来让处理函数根据 event.target.name 的值来选择做什么。</p>
<p>这里未解。。</p>

        <h1 id="React-Refs">
          <a href="#React-Refs" class="heading-link"><i class="fas fa-link"></i></a><a href="#React-Refs" class="headerlink" title="React Refs"></a>React Refs</h1>
      <p>React 支持一种非常特殊的属性 Ref ，你可以用来绑定到 render() 输出的任何组件上。</p>
<p>这个特殊的属性允许你引用 render() 返回的相应的支撑实例（ backing instance ）。这样就可以确保在任何时间总是拿到正确的实例。</p>
<figure class="highlight plain"><div class="table-container"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class MyComponent extends React.Component {</span><br><span class="line">  handleClick() {</span><br><span class="line">    // 使用原生的 DOM API 获取焦点</span><br><span class="line">    this.refs.myInput.focus(); // 调用原生api。。获取dom信息，同vue</span><br><span class="line">  }</span><br><span class="line">  render() {</span><br><span class="line">    //  当组件插入到 DOM 后，ref 属性添加一个组件的引用于到 this.refs</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;input type="text" ref="myInput" /&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          type="button"</span><br><span class="line">          value="点我输入框获取焦点"</span><br><span class="line">          onClick={this.handleClick.bind(this)}</span><br><span class="line">        /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> </span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;MyComponent /&gt;,</span><br><span class="line">  document.getElementById('example')</span><br><span class="line">);</span><br></pre></td></tr></tbody></table></div></figure>



        <h1 id="Hooks">
          <a href="#Hooks" class="heading-link"><i class="fas fa-link"></i></a><a href="#Hooks" class="headerlink" title="Hooks"></a>Hooks</h1>
      <p>这里的资料在哪里。。。</p>

        <h1 id="其他学习链接">
          <a href="#其他学习链接" class="heading-link"><i class="fas fa-link"></i></a><a href="#其他学习链接" class="headerlink" title="其他学习链接"></a>其他学习链接</h1>
      <p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://react.iamkasong.com/">React技术揭秘</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>主要是React思想方面，工作原理，设计思路，Diff算法等。</p>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ki4y1u7Vr">React源码，你在第几层</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>上文作者的Bili视频，收获不错！！！在线学习网站Get</p>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://pomb.us/build-your-own-react/">build-your-own-react</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>在线学习React的网站，从0到1，实现mini的React，实践项目来了。。。。需翻墙。</p>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JU4y1E73v/?spm_id_from=333.788.recommend_more_video.3">9分钟掌握React Hooks正确认知</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>所以hooks到底干啥的。。改变数据？？</p>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/hooks-intro.html">React官方hook文档</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span><br>Hook 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。</p>
<p>使用hook动机</p>
<ol>
<li>在组件之间复用状态逻辑很难</li>
<li>复杂组件变得难以理解</li>
<li>难以理解的 class</li>
</ol>
<p><span class="exturl"><a class="exturl__link" target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/getting-started.html">React官方文档</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>

        <h1 id="总结">
          <a href="#总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#总结" class="headerlink" title="总结"></a>总结</h1>
      <p>初步总结了一下文档内容，还需要结合实践，学习项目经验，React处理UI很方便，需要规范化。</p>
<p>学习重点是先运行起来，再修改，再看特例，然后写总结！</p>
<p>运行之前，先收集资料。。。</p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://example.com/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span></div><div class="post-share"><div class="social-share" data-sites="qzone, qq, weibo, wechat, douban, linkedin, facebook, twitter, google">Share to: </div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2022/02/02/React%E5%AE%9E%E9%99%85%E6%A1%88%E4%BE%8B/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">React实际案例</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2022/01/29/Aframe%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="paginator-prev__text">Aframe学习笔记</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">
          安装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E5%85%83%E7%B4%A0%E6%B8%B2%E6%9F%93"><span class="toc-number">2.</span> <span class="toc-text">
          React 元素渲染</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-JSX"><span class="toc-number">3.</span> <span class="toc-text">
          React JSX</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E7%BB%84%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">
          React 组件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-State"><span class="toc-number">5.</span> <span class="toc-text">
          React State</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%99%E9%87%8C%E7%9A%84super%E7%9A%84%E4%BD%9C%E7%94%A8%EF%BC%9F"><span class="toc-number">5.1.</span> <span class="toc-text">
          这里的super的作用？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-Props"><span class="toc-number">6.</span> <span class="toc-text">
          React Props</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4props"><span class="toc-number">6.1.</span> <span class="toc-text">
          默认props</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#state-%E5%92%8C-props"><span class="toc-number">6.2.</span> <span class="toc-text">
          state 和 props</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Props-%E9%AA%8C%E8%AF%81"><span class="toc-number">6.3.</span> <span class="toc-text">
          Props 验证</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">7.</span> <span class="toc-text">
          React 事件处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">8.</span> <span class="toc-text">
          React 条件渲染</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#this-setState-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%EF%BC%9F"><span class="toc-number">8.1.</span> <span class="toc-text">
          this.setState() 有什么用？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E5%88%97%E8%A1%A8-amp-Keys"><span class="toc-number">9.</span> <span class="toc-text">
          React 列表&amp;Keys</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E7%BB%84%E4%BB%B6API"><span class="toc-number">10.</span> <span class="toc-text">
          React 组件API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#setState"><span class="toc-number">10.1.</span> <span class="toc-text">
          setState</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#replaceState"><span class="toc-number">10.2.</span> <span class="toc-text">
          replaceState</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#setProps"><span class="toc-number">10.3.</span> <span class="toc-text">
          setProps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#replaceProps"><span class="toc-number">10.4.</span> <span class="toc-text">
          replaceProps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#forceUpdate"><span class="toc-number">10.5.</span> <span class="toc-text">
          forceUpdate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#findDOMNode"><span class="toc-number">10.6.</span> <span class="toc-text">
          findDOMNode</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#isMounted"><span class="toc-number">10.7.</span> <span class="toc-text">
          isMounted</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">11.</span> <span class="toc-text">
          React 组件生命周期</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%82%E8%BD%BD"><span class="toc-number">11.1.</span> <span class="toc-text">
          挂载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">11.2.</span> <span class="toc-text">
          更新</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%B8%E8%BD%BD"><span class="toc-number">11.3.</span> <span class="toc-text">
          卸载</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-AJAX"><span class="toc-number">12.</span> <span class="toc-text">
          React AJAX</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-%E8%A1%A8%E5%8D%95%E4%B8%8E%E4%BA%8B%E4%BB%B6"><span class="toc-number">13.</span> <span class="toc-text">
          React 表单与事件</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#React-Refs"><span class="toc-number">14.</span> <span class="toc-text">
          React Refs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hooks"><span class="toc-number">15.</span> <span class="toc-text">
          Hooks</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5"><span class="toc-number">16.</span> <span class="toc-text">
          其他学习链接</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">17.</span> <span class="toc-text">
          总结</span></a></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/header.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">LJY_BLOG</p></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">37</div><div class="sidebar-ov-state-item__name">Archives</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">4</div><div class="sidebar-ov-state-item__name">Tags</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="Creative Commons" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>